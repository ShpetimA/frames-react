import e,{Component as r}from"react";function n(e,r){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}function o(e,r,n,o){return new(n||(n=Promise))((function(a,s){function t(e){try{d(o.next(e))}catch(e){s(e)}}function i(e){try{d(o.throw(e))}catch(e){s(e)}}function d(e){var r;e.done?a(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(t,i)}d((o=o.apply(e,r||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const a="https://cdn.checkout.com/js/framesv2.min.js";class s extends r{constructor(){super(...arguments),this.loadScript=()=>{if("undefined"!=typeof window)return new Promise(((e,r)=>{const n=document.createElement("script");n.src=a,n.onload=r=>e(r),n.onerror=e=>r(e),document.body.appendChild(n)}))},this.initializeFrames=()=>{let e={publicKey:this.props.config.publicKey,debug:this.props.config.debug||!1,style:this.props.config.style,acceptedPaymentMethods:this.props.config.acceptedPaymentMethods,cardholder:this.props.config.cardholder,localization:this.props.config.localization,modes:this.props.config.modes,schemeChoice:this.props.config.schemeChoice,cardNumber:this.props.config.cardNumber,expiryDate:this.props.config.expiryDate,cvv:this.props.config.cvv,ready:this.props.ready,frameActivated:this.props.frameActivated,frameFocus:this.props.frameFocus,frameBlur:this.props.frameBlur,frameValidationChanged:this.props.frameValidationChanged,paymentMethodChanged:this.props.paymentMethodChanged,cardValidationChanged:this.props.cardValidationChanged,cardSubmitted:this.props.cardSubmitted,cardTokenized:this.props.cardTokenized,cardTokenizationFailed:this.props.cardTokenizationFailed,cardBinChanged:this.props.cardBinChanged};this.props.config.cardholder||delete e.cardholder,this.props.config.schemeChoice||delete e.schemeChoice,this.props.config.cardNumber||delete e.cardNumber,this.props.config.expiryDate||delete e.expiryDate,this.props.config.cvv||delete e.cvv,this.props.config.modes||delete e.modes,this.props.config.localization||delete e.localization;try{window.Frames?window.Frames.init(e):console.error("Frames was used before the script (from the CDN) was loaded completely")}catch(e){throw e}}}componentDidMount(){document.querySelector(`script[src$="${a}"]`)?this.initializeFrames():(()=>{o(this,void 0,void 0,(function*(){try{yield this.loadScript(),this.initializeFrames()}catch(e){throw new Error(e)}}))})()}shouldComponentUpdate(e){if("undefined"!=typeof window&&window.Frames){const r=window.Frames;e.config.cardholder&&e.config.cardholder.name&&(r.cardholder.name=e.config.cardholder.name),e.config.cardholder&&e.config.cardholder.billingAddress&&(r.cardholder.billingAddress=e.config.cardholder.billingAddress),e.config.cardholder&&e.config.cardholder.phone&&(r.cardholder.phone=e.config.cardholder.phone)}return!0}componentWillUnmount(){window.Frames&&(window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_SUBMITTED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_TOKENIZATION_FAILED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_TOKENIZED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_VALIDATION_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_ACTIVATED),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_BLUR),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_FOCUS),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_VALIDATION_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.PAYMENT_METHOD_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.READY))}render(){const{children:e}=this.props;return e}}function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}s.init=e=>{window.Frames&&(window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_SUBMITTED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_TOKENIZATION_FAILED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_TOKENIZED),window.Frames.removeAllEventHandlers(window.Frames.Events.CARD_VALIDATION_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_ACTIVATED),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_BLUR),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_FOCUS),window.Frames.removeAllEventHandlers(window.Frames.Events.FRAME_VALIDATION_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.PAYMENT_METHOD_CHANGED),window.Frames.removeAllEventHandlers(window.Frames.Events.READY),e?window.Frames.init(e):window.Frames.init())},s.isCardValid=()=>!!window.Frames&&window.Frames.isCardValid(),s.submitCard=()=>window.Frames?window.Frames.submitCard():Promise.reject("Frames is not defined"),s.addEventHandler=(e,r)=>{window.Frames&&window.Frames.addEventHandler(e,r)},s.removeEventHandler=(e,r)=>{window.Frames&&window.Frames.removeEventHandler(e,r)},s.removeAllEventHandlers=e=>{window.Frames&&window.Frames.removeAllEventHandlers(e)},s.enableSubmitForm=()=>{window.Frames&&window.Frames.enableSubmitForm()};var i,d={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var l,c=(i||(i=1,l=d,function(){var e={}.hasOwnProperty;function r(){for(var e="",r=0;r<arguments.length;r++){var a=arguments[r];a&&(e=o(e,n(a)))}return e}function n(n){if("string"==typeof n||"number"==typeof n)return n;if("object"!=typeof n)return"";if(Array.isArray(n))return r.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var a="";for(var s in n)e.call(n,s)&&n[s]&&(a=o(a,s));return a}function o(e,r){return r?e?e+" "+r:e+r:e}l.exports?(r.default=r,l.exports=r):window.classNames=r}()),d.exports),m=t(c);const w=r=>{var{className:o}=r,a=n(r,["className"]);return e.createElement("div",Object.assign({className:m("card-frame",o)},a))},p=r=>{var{className:o}=r,a=n(r,["className"]);return e.createElement("div",Object.assign({className:m("card-number-frame",o)},a))},v=r=>{var{className:o}=r,a=n(r,["className"]);return e.createElement("div",Object.assign({className:m("cvv-frame",o)},a))},h=r=>{var{className:o}=r,a=n(r,["className"]);return e.createElement("div",Object.assign({className:m("expiry-date-frame",o)},a))},E=r=>{var{className:o}=r,a=n(r,["className"]);return e.createElement("div",Object.assign({className:m("scheme-choice-frame",o)},a))};export{w as CardFrame,p as CardNumber,v as Cvv,h as ExpiryDate,s as Frames,E as SchemeChoice};
//# sourceMappingURL=index.js.map
